import{r as c,j as e,u as H,T as S,B as L}from"./index-xeIlzTUP.js";import{a as G}from"./index-BjIkWhWI.js";import{A as O,b as W,e as _,P as J,c as q}from"./CommonDialogue-DTbxYuNz.js";import{c as P,u as D,B as z,e as K,g as Q}from"./staticData-Ccj1nKPF.js";const F=c.forwardRef(({active:n=!1,disabled:m=!1,className:l,style:a,activeLabel:o="(current)",children:i,linkStyle:x,linkClassName:u,as:b=O,...j},y)=>{const r=n||m?"span":b;return e.jsx("li",{ref:y,style:a,className:P(l,"page-item",{active:n,disabled:m}),children:e.jsxs(r,{className:P("page-link",u),style:x,...j,children:[i,n&&o&&e.jsx("span",{className:"visually-hidden",children:o})]})})});F.displayName="PageItem";function v(n,m,l=n){const a=c.forwardRef(({children:o,...i},x)=>e.jsxs(F,{...i,ref:x,children:[e.jsx("span",{"aria-hidden":"true",children:o||m}),e.jsx("span",{className:"visually-hidden",children:l})]}));return a.displayName=n,a}const U=v("First","«"),V=v("Prev","‹","Previous"),X=v("Ellipsis","…","More"),Y=v("Next","›"),Z=v("Last","»"),k=c.forwardRef(({bsPrefix:n,className:m,size:l,...a},o)=>{const i=D(n,"pagination");return e.jsx("ul",{ref:o,...a,className:P(m,i,l&&`${i}-${l}`)})});k.displayName="Pagination";const g=Object.assign(k,{First:U,Prev:V,Ellipsis:X,Item:F,Next:Y,Last:Z}),ee=c.forwardRef(({bsPrefix:n,className:m,striped:l,bordered:a,borderless:o,hover:i,size:x,variant:u,responsive:b,...j},y)=>{const r=D(n,"table"),w=P(m,r,u&&`${r}-${u}`,x&&`${r}-${x}`,l&&`${r}-${typeof l=="string"?`striped-${l}`:"striped"}`,a&&`${r}-bordered`,o&&`${r}-borderless`,i&&`${r}-hover`),N=e.jsx("table",{...j,className:w,ref:y});if(b){let p=`${r}-responsive`;return typeof b=="string"&&(p=`${p}-${b}`),e.jsx("div",{className:p,children:N})}return N}),te=({data:n,rowsPerPage:m,columns:l,fetchData:a,gridFilters:o})=>{const[i,x]=c.useState(1),[u,b]=c.useState(!1),[j,y]=c.useState({}),[r,w]=c.useState(n),[N,p]=c.useState(m);c.useEffect(()=>{const s=n.filter(d=>l.every(t=>{var $;if(!t.filterable)return!0;const C=d[t.field];return C!==void 0&&C.toString().toLowerCase().includes((($=j[t.field])==null?void 0:$.toLowerCase())||"")}));w(s),x(1)},[j,n,l]);const h=s=>{x(s)},I=(s,d)=>{y({...j,[s]:d})},A=()=>{b(!u),u&&y({})},T=s=>{p(Number(s.target.value)),x(1)},E=r.slice((i-1)*N,i*N),f=Math.ceil(r.length/N),R=(i-1)*N+1,B=Math.min(i*N,r.length),M=()=>{let s=[];const d=e.jsx(g.Ellipsis,{},"ellipsis");if(f<=4)for(let t=1;t<=f;t++)s.push(e.jsx(g.Item,{active:t===i,onClick:()=>h(t),children:t},t));else if(i<=3){for(let t=1;t<=3;t++)s.push(e.jsx(g.Item,{active:t===i,onClick:()=>h(t),children:t},t));s.push(d),s.push(e.jsx(g.Item,{active:f===i,onClick:()=>h(f),children:f},f))}else if(i>=f-2){s.push(e.jsx(g.Item,{active:i===1,onClick:()=>h(1),children:1},1)),s.push(d);for(let t=f-2;t<=f;t++)s.push(e.jsx(g.Item,{active:t===i,onClick:()=>h(t),children:t},t))}else{s.push(e.jsx(g.Item,{active:i===1,onClick:()=>h(1),children:1},1)),s.push(d);for(let t=i-1;t<=i+1;t++)s.push(e.jsx(g.Item,{active:t===i,onClick:()=>h(t),children:t},t));s.push(d),s.push(e.jsx(g.Item,{active:f===i,onClick:()=>h(f),children:f},f))}return s};return e.jsxs("div",{className:"container",children:[o&&e.jsx("hr",{className:"mb-1"}),e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsxs(W.Select,{className:"ms-2",value:N,onChange:T,style:{width:"auto"},children:[e.jsx("option",{value:10,children:"10 rows"}),e.jsx("option",{value:20,children:"20 rows"}),e.jsx("option",{value:50,children:"50 rows"}),e.jsx("option",{value:100,children:"100 rows"})]}),o&&e.jsx(e.Fragment,{children:e.jsx("button",{className:"btn btn-primary ms-2",onClick:A,children:u?"Hide Filter":"Show Filter"})})]}),e.jsxs(ee,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"mb-1",children:[e.jsxs("thead",{children:[e.jsx("tr",{children:l.map((s,d)=>e.jsx("th",{style:{width:s.width||"100px",textAlign:"center"},children:s.headerName},d))}),u&&e.jsx("tr",{children:l.map((s,d)=>e.jsx("th",{children:s.filterable!==!1&&e.jsx(_,{type:"text",placeholder:`Filter ${s.headerName}`,value:j[s.field]||"",onChange:t=>I(s.field,t.target.value)})},d))})]}),e.jsx("tbody",{children:E.map((s,d)=>e.jsx("tr",{children:l.map((t,C)=>e.jsx("td",{style:{width:t.width||"100px",textAlign:"center"},children:t.renderCell?t.renderCell(s):s[t.field]},C))},d))})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-baseline",children:[e.jsx(g,{className:"mb-1",children:M()}),e.jsx("div",{className:"d-flex align-items-center",children:B-R+1+` of ${r.length} records`}),e.jsx(z,{onClick:a,className:"",children:e.jsx(G,{})})]}),e.jsx("hr",{className:"m-0"})]})},ne=()=>{const n=H(),[m,l]=c.useState(!1),[a,o]=c.useState(null),[i,x]=c.useState(Math.random()),{getAllNotificationList:u,allNotificationList:b,deleteNotificationDetailById:j}=K(),y=c.useCallback(async()=>{u(),x(Math.random())},[]),r=p=>{n(`/editNotification/${p}`)},w=async p=>{o({title:"Delete Confirmation",bodyContent:e.jsxs("div",{style:{display:"inline-flex",justifyContent:"space-evenly",alignItems:"center",width:"100%"},children:[e.jsx("div",{children:e.jsx("i",{className:"bi bi-info-circle-fill",style:{fontSize:"2.5rem"}})}),e.jsx("div",{className:"ps-3",children:e.jsx("span",{style:{fontSize:"1.2rem",color:"black"},children:"Are you sure you want to delete this Notification?"})})]}),cancelText:"Cancel",acceptText:"Delete",handleProceed:async()=>{try{l(!1);const h=await j(p);h.status==="Success"?(o({title:"Success",bodyContent:"Record deleted from list.",cancelText:"Close",handleClose:()=>l(!1)}),l(!0),y()):L.error(h.message)}catch(h){console.log(h)}},handleClose:()=>l(!1)}),l(!0)};c.useEffect(()=>{u()},[]);const N=[{field:"notificationHeader",headerName:"Notification Header",width:"150px"},{field:"notificationSubHeader",headerName:"Notification Sub Header",width:"200px"},{field:"notificationDate",headerName:"Notification Date",width:"100px"},{field:"applyStartDate",headerName:"Apply Start Date",width:"100px"},{field:"applyEndDate",headerName:"Apply End Date",width:"100px"},{field:"applicationFee",headerName:"Application Fee",width:"100px"},{field:"officialWebSite",headerName:"Official Website",width:"100px"},{field:"eligibility",headerName:"Eligibilty",width:"100px"},{field:"isNewNotification",headerName:"New Notification",width:"100px"},{field:"stateName",headerName:"State",width:"100px"},{field:"notificationType",headerName:"Notification Type",width:"100px"},{field:"actions",headerName:"Actions",width:"250px",renderCell:p=>e.jsxs("div",{className:"d-flex",children:[e.jsx("button",{onClick:()=>r(p._id),className:"btn btn-primary me-3",children:S.edit}),e.jsx("button",{onClick:()=>w(p._id),className:"btn btn-danger",children:S.delete})]}),filterable:!1}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container mt-4",children:[e.jsx(J,{data:S.allJobs}),e.jsx("div",{className:"d-flex justify-content-end m-2",children:e.jsxs("button",{className:"btn btn-primary",onClick:()=>n("/addNewNotification"),children:[e.jsx("i",{className:"bi bi-plus-lg"})," Add New Notification"]})}),e.jsx(te,{data:b||Q,rowsPerPage:10,columns:N,fetchData:y,gridFilters:!0},i)]}),a&&e.jsx(q,{title:a==null?void 0:a.title,dialogueShow:m,handleClose:a==null?void 0:a.handleClose,bodyContent:a==null?void 0:a.bodyContent,cancelText:a==null?void 0:a.cancelText,acceptText:a==null?void 0:a.acceptText,handleProceed:a.handleProceed})]})};export{ne as default};
//# sourceMappingURL=ManageNotificationsGrid-DoJUPjb8.js.map
